pico-8 cartridge // http://www.pico-8.com
version 42
__lua__

function _init()
 enemy = {
  sprite=1,
  x = 64,
  y = 10,
  direction = 0,
 }
 updateframe = 0
 debug = 0
end

function _draw()
 cls(0)
 print (debug)
 spr (enemy.sprite, enemy.x, enemy.y)
end

function _update()
 updateframe=updateframe+1

 if updateframe%2 == 0 then
  enemy_flying()	
 end
 
 if updateframe==30 then 
  updateframe=0
 end 
end

function enemy_flying()

	if rnd(1) < 0.5 then
		fwdbck = 0
	else 
	 fwdbck = 0
	end
	flydist = 1

	enemy.y = enemy.y + (fwdbck*flydist)
	debug = (enemy.y .." " .. fwdbck .." " .. flydist)

	rnddir = rnd(1)

	--go left or right?
	if rnddir < 0.3 then
  enemy_left()	
	elseif rnddir > 0.6 then
  enemy_right()
	else
	 enemy_straight()
	end

end

function enemy_left()
 enemy.x = enemy.x - 1
 enemy.sprite=2
	enemy.direction = 0
end

function enemy_right()
 enemy.x = enemy.x + 1
 enemy.sprite=3
 enemy.direction = 2
end

function enemy_straight()
 enemy.x = enemy.x
 enemy.direction = 1
 enemy.sprite=1
end

__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000005005000000000000005100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700056116500000000000065610000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000651111560000000000065610000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000656116560000000000065610000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700056116500000000000005100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000006006000000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000550055000000000000000500000000000000000000000000000000000000000000000000000000000000000
00000000006006000001500000000000000000000650056000000000000005600000000000000000000000000000000000000000000000000000000000000000
0000000005611650001656000000000000000000656666560000060000000d660000000000000000000000000000000000000000000000000000000000000000
0000000065111156001656000000000000000000656556560000060000000d650000000000000000000000000000000000000000000000000000000000000000
0000000065611656001656000000000000000000656116560000060000000d110000000000000000000000000000000000000000000000000000000000000000
00000000056116500001500000000000000000000561165000000600000005100000000000000000000000000000000000000000000000000000000000000000
00000000005005000000500000000000000000000066660000000600000000600000000000000000000000000000000000000000000000000000000000000000
